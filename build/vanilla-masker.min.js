!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.VMasker=t()}(this,function(){var e="9",t="A",n="S",i=[9,16,17,18,36,37,38,39,40,91,92,93],r=function(e){for(var t=0,n=i.length;n>t;t++)if(e==i[t])return!1;return!0},o=function(e){var t=189==e;return t},s=function(e){return e=e||{},e={precision:e.hasOwnProperty("precision")?e.precision:2,separator:e.separator||",",delimiter:e.delimiter||".",unit:e.unit&&e.unit.replace(/[\s]/g,"")+" "||"",suffixUnit:e.suffixUnit&&" "+e.suffixUnit.replace(/[\s]/g,"")||"",zeroCents:e.zeroCents,lastOutput:e.lastOutput,negative:e.negative||""},e.moneyPrecision=e.zeroCents?0:e.precision,e},a=function(i,r,o){for(;r<i.length;r++)i[r]!==e&&i[r]!==t&&i[r]!==n||(i[r]=o);return i},l=function(e){this.elements=e};l.prototype.unbindElementToMask=function(){for(var e=0,t=this.elements.length;t>e;e++)this.elements[e].lastOutput="",this.elements[e].onkeyup=!1,this.elements[e].onkeydown=!1,this.elements[e].value.length&&(this.elements[e].value=this.elements[e].value.replace(/\D/g,""))},l.prototype.bindElementToMask=function(e){for(var t=this,n=function(n){n=n||window.event;var i=n.target||n.srcElement;r(n.keyCode)&&setTimeout(function(){t.opts.lastOutput=i.lastOutput,i.value=u[e](i.value,t.opts,n.keyCode),i.lastOutput=i.value,i.setSelectionRange&&t.opts.suffixUnit&&i.setSelectionRange(i.value.length,i.value.length-t.opts.suffixUnit.length)},0)},i=0,o=this.elements.length;o>i;i++)this.elements[i].lastOutput="",this.elements[i].onkeyup=n,this.elements[i].value.length&&(this.elements[i].value=u[e](this.elements[i].value,this.opts))},l.prototype.maskMoney=function(e){this.opts=s(e),this.bindElementToMask("toMoney")},l.prototype.maskNumber=function(){this.opts={},this.bindElementToMask("toNumber")},l.prototype.maskAlphaNum=function(){this.opts={},this.bindElementToMask("toAlphaNumeric")},l.prototype.maskPattern=function(e){this.opts={pattern:e},this.bindElementToMask("toPattern")},l.prototype.unMask=function(){this.unbindElementToMask()};var u=function(e){if(!e)throw new Error("VanillaMasker: There is no element to bind.");var t="length"in e?e.length?e:[]:[e];return new l(t)};return u.toMoney=function(e,t,n){if(t=s(t),t.negative=function(e,t,n){var i="string"==typeof e?e.replace(",","."):e;return isNaN(parseFloat(i))&&t.unit&&(i=i.replace(t.unit,"")),parseFloat(i)>0?"":parseFloat(i)<0?"-":o(n)?"-":""}(e,t,n),t.zeroCents){t.lastOutput=t.lastOutput||"";var i="("+t.separator+"[0]{0,"+t.precision+"})",r=new RegExp(i,"g"),a=e.toString().replace(/[\D]/g,"").length||0,l=t.lastOutput.toString().replace(/[\D]/g,"").length||0;e=e.toString().replace(r,""),l>a&&(e=e.slice(0,e.length-1))}var u=e.toString().replace(/[\D]/g,""),p=new RegExp("^(0|\\"+t.delimiter+")"),c=new RegExp("(\\"+t.separator+")$"),h=u.substr(0,u.length-t.moneyPrecision),f=h.substr(0,h.length%3),g=new Array(t.precision+1).join("0");h=h.substr(h.length%3,h.length);for(var m=0,v=h.length;v>m;m++)m%3===0&&(f+=t.delimiter),f+=h[m];if(f=f.replace(p,""),f=f.length?f:"0",!t.zeroCents){var d=u.length-t.precision,y=u.substr(d,t.precision),b=y.length,k=t.precision>b?t.precision:b;g=(g+y).slice(-k)}var M=t.unit+t.negative+f+t.separator+g+t.suffixUnit;return M.replace(c,"")},u.toPattern=function(i,r){var o,s="object"==typeof r?r.pattern:r,l=s.replace(/\W/g,""),u=s.split(""),p=i.toString().replace(/\W/g,""),c=p.replace(/\W/g,""),h=0,f=u.length,g="object"==typeof r?r.placeholder:void 0;for(o=0;f>o;o++){if(h>=p.length){if(l.length==c.length)return u.join("");if(void 0!==g&&l.length>c.length)return a(u,o,g).join("");break}if(u[o]===e&&p[h].match(/[0-9]/)||u[o]===t&&p[h].match(/[a-zA-Z]/)||u[o]===n&&p[h].match(/[0-9a-zA-Z]/))u[o]=p[h++];else if(u[o]===e||u[o]===t||u[o]===n)return void 0!==g?a(u,o,g).join(""):u.slice(0,o).join("")}return u.join("").substr(0,o)},u.toNumber=function(e){return e.toString().replace(/(?!^-)[^0-9]/g,"")},u.toAlphaNumeric=function(e){return e.toString().replace(/[^a-z0-9 ]+/i,"")},u});