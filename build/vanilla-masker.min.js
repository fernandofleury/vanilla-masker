!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.VMasker=b()}(this,function(){var a="9",b="A",c="S",d=[9,16,17,18,36,37,38,39,40,91,92,93],e=function(a){for(var b=0,c=d.length;c>b;b++)if(a==d[b])return!1;return!0},f=function(a){var b=189==a;return b},g=function(a){return a=a||{},a={precision:a.hasOwnProperty("precision")?a.precision:2,separator:a.separator||",",delimiter:a.delimiter||".",unit:a.unit&&a.unit.replace(/[\s]/g,"")+" "||"",suffixUnit:a.suffixUnit&&" "+a.suffixUnit.replace(/[\s]/g,"")||"",zeroCents:a.zeroCents,lastOutput:a.lastOutput,negative:a.negative||""},a.moneyPrecision=a.zeroCents?0:a.precision,a},h=function(d,e,f){for(;e<d.length;e++)d[e]!==a&&d[e]!==b&&d[e]!==c||(d[e]=f);return d},i=function(a){this.elements=a};i.prototype.unbindElementToMask=function(){for(var a=0,b=this.elements.length;b>a;a++)this.elements[a].lastOutput="",this.elements[a].onkeyup=!1,this.elements[a].onkeydown=!1,this.elements[a].value.length&&(this.elements[a].value=this.elements[a].value.replace(/\D/g,""))},i.prototype.bindElementToMask=function(a){for(var b=this,c=function(c){c=c||window.event;var d=c.target||c.srcElement;e(c.keyCode)&&setTimeout(function(){b.opts.lastOutput=d.lastOutput,d.value=j[a](d.value,b.opts,c.keyCode),d.lastOutput=d.value,d.setSelectionRange&&b.opts.suffixUnit&&d.setSelectionRange(d.value.length,d.value.length-b.opts.suffixUnit.length)},0)},d=0,f=this.elements.length;f>d;d++)this.elements[d].lastOutput="",this.elements[d].onkeyup=c,this.elements[d].value.length&&(this.elements[d].value=j[a](this.elements[d].value,this.opts))},i.prototype.maskMoney=function(a){this.opts=g(a),this.bindElementToMask("toMoney")},i.prototype.maskNumber=function(){this.opts={},this.bindElementToMask("toNumber")},i.prototype.maskAlphaNum=function(){this.opts={},this.bindElementToMask("toAlphaNumeric")},i.prototype.maskPattern=function(a){this.opts={pattern:a},this.bindElementToMask("toPattern")},i.prototype.unMask=function(){this.unbindElementToMask()};var j=function(a){if(!a)throw new Error("VanillaMasker: There is no element to bind.");var b="length"in a?a.length?a:[]:[a];return new i(b)};return j.toMoney=function(a,b,c){if(b=g(b),b.negative=function(a,b,c){var d="string"==typeof a?a.replace(",","."):a;return isNaN(parseFloat(d))&&b.unit&&(d=d.replace(b.unit,"")),parseFloat(d)>0?"":parseFloat(d)<0?"-":f(c)?"-":""}(a,b,c),b.zeroCents){b.lastOutput=b.lastOutput||"";var d="("+b.separator+"[0]{0,"+b.precision+"})",e=new RegExp(d,"g"),h=a.toString().replace(/[\D]/g,"").length||0,i=b.lastOutput.toString().replace(/[\D]/g,"").length||0;a=a.toString().replace(e,""),i>h&&(a=a.slice(0,a.length-1))}var j=a.toString().replace(/[\D]/g,""),k=new RegExp("^(0|\\"+b.delimiter+")"),l=new RegExp("(\\"+b.separator+")$"),m=j.substr(0,j.length-b.moneyPrecision),n=m.substr(0,m.length%3),o=new Array(b.precision+1).join("0");m=m.substr(m.length%3,m.length);for(var p=0,q=m.length;q>p;p++)p%3===0&&(n+=b.delimiter),n+=m[p];if(n=n.replace(k,""),n=n.length?n:"0",!b.zeroCents){var r=j.length-b.precision,s=j.substr(r,b.precision),t=s.length,u=b.precision>t?b.precision:t;o=(o+s).slice(-u)}var v=b.unit+b.negative+n+b.separator+o+b.suffixUnit;return v.replace(l,"")},j.toPattern=function(d,e){var f,g="object"==typeof e?e.pattern:e,i=g.replace(/\W/g,""),j=g.split(""),k=d.toString().replace(/\W/g,""),l=k.replace(/\W/g,""),m=0,n=j.length,o="object"==typeof e?e.placeholder:void 0;for(f=0;n>f;f++){if(m>=k.length){if(i.length==l.length)return j.join("");if(void 0!==o&&i.length>l.length)return h(j,f,o).join("");break}if(j[f]===a&&k[m].match(/[0-9]/)||j[f]===b&&k[m].match(/[a-zA-Z]/)||j[f]===c&&k[m].match(/[0-9a-zA-Z]/))j[f]=k[m++];else if(j[f]===a||j[f]===b||j[f]===c)return void 0!==o?h(j,f,o).join(""):j.slice(0,f).join("")}return j.join("").substr(0,f)},j.toNumber=function(a){return a.toString().replace(/(?!^-)[^0-9]/g,"")},j.toAlphaNumeric=function(a){return a.toString().replace(/[^a-z0-9 ]+/i,"")},j});